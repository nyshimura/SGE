:root {
  /* Tema Claro (Padrão) */
  --background-color: #f4f7f9;
  --text-color: #212529;
  --card-background: #ffffff;
  --border-color: #e0e0e0;
  --shadow-color: rgba(0, 0, 0, 0.08);
  --input-background: #ffffff;
  --table-header-bg: #f9fafb;
  --subtle-bg: #f8f9fa;
  --link-color: #007bff;

  /* Cores de Ação */
  --primary-color: #007bff;
  --primary-hover-color: #0056b3;
  --secondary-color: #6c757d;
  --secondary-hover-color: #5a6268;
  --danger-color: #dc3545;
  --danger-hover-color: #c82333;

  /* Cores de Status */
  --status-pending-bg: #fffbe6;
  --status-pending-text: #b45309;
  --status-approved-bg: #f0fdf4;
  --status-approved-text: #166534;
  --status-absent-bg: #fef2f2;
  --status-absent-text: #b91c1c;
  --status-open-bg: #eef7ff;
  --status-open-text: #1d4ed8;
  --status-closed-bg: #f3f4f6;
  --status-closed-text: #4b5563;
  --status-paid-bg: var(--status-approved-bg);
  --status-paid-text: var(--status-approved-text);
  --status-overdue-bg: var(--status-absent-bg);
  --status-overdue-text: var(--status-absent-text);
  --status-canceled-bg: #f3f4f6;
  --status-canceled-text: #4b5563;

  /* Outras */
  --font-family: 'Inter', sans-serif;
}

@media (prefers-color-scheme: dark) {
  :root {
    /* Tema Escuro */
    --background-color: #121212;
    --text-color: #e0e0e0;
    --card-background: #1e1e1e;
    --border-color: #333333;
    --shadow-color: rgba(0, 0, 0, 0.4);
    --input-background: #2c2c2c;
    --table-header-bg: #2a2a2a;
    --subtle-bg: #252525;
    --link-color: #64b5f6;

    /* Cores de Ação (Ajustadas para melhor contraste) */
    --primary-color: #0d6efd;
    --primary-hover-color: #3b82f6;
    --secondary-color: #8b949e;
    --secondary-hover-color: #a5b4fc;

    /* Cores de Status (Tema Escuro) */
    --status-pending-bg: #4d3c1a;
    --status-pending-text: #fcd34d;
    --status-approved-bg: #1a4d2e;
    --status-approved-text: #6ee7b7;
    --status-absent-bg: #4d1a1a;
    --status-absent-text: #fca5a5;
    --status-open-bg: #1a3a4d;
    --status-open-text: #93c5fd;
    --status-closed-bg: #374151;
    --status-closed-text: #d1d5db;
    --status-canceled-bg: #374151;
    --status-canceled-text: #d1d5db;
  }
}


body {
  font-family: var(--font-family);
  background-color: var(--background-color);
  color: var(--text-color);
  margin: 0;
  display: flex;
  flex-direction: column;
  min-height: 100vh;
  line-height: 1.6;
}

.app-header {
  background-color: var(--card-background);
  border-bottom: 1px solid var(--border-color);
  padding: 1rem 2rem;
  position: sticky;
  top: 0;
  z-index: 1000;
  box-shadow: 0 2px 4px var(--shadow-color);
}

.header-content {
    display: flex;
    justify-content: space-between;
    align-items: center;
    max-width: 1200px;
    margin: 0 auto;
    flex-wrap: wrap; 
    gap: 1rem;
}

.app-header h1 {
  font-size: 1.8rem;
  font-weight: 700;
  margin: 0;
  display: flex;
  align-items: center;
  gap: 0.75rem;
}

.header-logo {
    height: 40px;
    width: auto;
    object-fit: contain;
    border-radius: 6px;
}

.user-info {
    display: flex;
    align-items: center;
    gap: 1rem;
    flex-wrap: wrap; 
    justify-content: flex-end;
}

.user-info span {
    font-weight: 500;
    white-space: nowrap;
}

.logout-button, .link-button {
    font-size: 0.9rem;
    font-weight: 600;
    color: var(--link-color);
    background-color: transparent;
    border: none;
    cursor: pointer;
    padding: 0;
    text-decoration: underline;
}
.logout-button:hover {
    color: var(--primary-hover-color);
}

main {
  flex-grow: 1;
  width: 100%;
  max-width: 1200px;
  margin: 0 auto;
  padding: 2rem;
  box-sizing: border-box;
}

/* Auth Form Styles */
.auth-container {
    max-width: 400px;
    margin: 4rem auto;
    padding: 2rem;
    background-color: var(--card-background);
    border-radius: 12px;
    box-shadow: 0 4px 12px var(--shadow-color);
    text-align: center;
}

.auth-container h2 {
    margin-top: 0;
    margin-bottom: 2rem;
}

.form-group {
    margin-bottom: 1.5rem;
    text-align: left;
}

.form-group label {
    display: block;
    margin-bottom: 0.5rem;
    font-weight: 500;
}

.form-group input, .form-group select, .form-group textarea, .payment-status-select {
    width: 100%;
    padding: 0.75rem;
    border: 1px solid var(--border-color);
    border-radius: 8px;
    box-sizing: border-box;
    font-family: inherit;
    font-size: 1rem;
    background-color: var(--input-background);
    color: var(--text-color);
}

.form-group small {
  display: block; /* Garante que o elemento ocupe a largura disponível */
  overflow-wrap: break-word; /* Força a quebra de palavras/textos longos */
  word-wrap: break-word;      /* Compatibilidade com navegadores mais antigos */
  line-height: 1.4;           /* Melhora a legibilidade se o texto tiver várias linhas */
}

input:-webkit-autofill,
input:-webkit-autofill:hover,
input:-webkit-autofill:focus,
input:-webkit-autofill:active,
textarea:-webkit-autofill,
textarea:-webkit-autofill:hover,
textarea:-webkit-autofill:focus,
textarea:-webkit-autofill:active {
    -webkit-box-shadow: 0 0 0 30px var(--input-background) inset !important;
    -webkit-text-fill-color: var(--text-color) !important;
    color: var(--text-color) !important;
}


.form-group input:disabled, .form-group select:disabled, .form-group textarea:disabled {
    background-color: #333;
    color: #888;
    cursor: not-allowed;
}


.auth-button {
    width: 100%;
    padding: 0.75rem;
    font-size: 1rem;
    font-weight: 600;
    color: #fff;
    background-color: var(--primary-color);
    border: none;
    border-radius: 8px;
    cursor: pointer;
    transition: background-color 0.2s ease-in-out;
}

.auth-button:hover {
    background-color: var(--primary-hover-color);
}

.auth-container p {
    margin-top: 1.5rem;
}


.welcome-message, .view-title {
    margin-bottom: 2rem;
}

.welcome-message h2, .view-header h2 {
    font-size: 2rem;
    font-weight: 700;
    margin: 0 0 0.5rem 0;
}

.welcome-message p {
    font-size: 1.1rem;
    color: #aaa;
    margin: 0;
}

.dashboard-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
    gap: 1.5rem;
}

.card.full-width {
    grid-column: 1 / -1;
}

.card {
  background-color: var(--card-background);
  border: 1px solid var(--border-color);
  border-radius: 12px;
  padding: 1.5rem;
  box-shadow: 0 4px 12px var(--shadow-color);
  animation: fade-in 0.5s ease-in-out;
  display: flex;
  flex-direction: column;
}

@keyframes fade-in {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}

.card-title {
  font-size: 1.5rem;
  margin-top: 0;
  margin-bottom: 1.5rem;
  font-weight: 600;
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.list {
    list-style: none;
    padding: 0;
    margin: 0;
    display: flex;
    flex-direction: column;
    gap: 1rem;
}

.list-wrapper {
    max-height: 400px; 
    overflow-y: auto; 
    padding-right: 0.5rem; 
}

.list-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 1rem;
    border: 1px solid var(--border-color);
    border-radius: 8px;
    flex-wrap: wrap;
    gap: 1rem;
}

.list-item-content {
    display: flex;
    flex-direction: column;
    gap: 0.25rem;
    margin-right: 1rem;
    flex-grow: 1;
    min-width: 150px; 
}

.list-item-title {
    font-weight: 600;
}

.list-item-subtitle {
    font-size: 0.9rem;
    color: #8b949e;
}

.list-item-actions {
    display: flex;
    flex-wrap: wrap;
    justify-content: flex-end; 
    gap: 0.5rem;
    flex-shrink: 0;
    align-items: center;
}

.status-badge {
    padding: 0.25rem 0.75rem;
    border-radius: 12px;
    font-weight: 600;
    font-size: 0.8rem;
    display: inline-block;
}
.status-pendente { background-color: var(--status-pending-bg); color: var(--status-pending-text); }
.status-aprovada { background-color: var(--status-approved-bg); color: var(--status-approved-text); }
.status-presente { background-color: var(--status-approved-bg); color: var(--status-approved-text); }
.status-falta { background-color: var(--status-absent-bg); color: var(--status-absent-text); }
.status-aberto { background-color: var(--status-open-bg); color: var(--status-open-text); }
.status-encerrado { background-color: var(--status-closed-bg); color: var(--status-closed-text); }
.status-pago { background-color: var(--status-approved-bg); color: var(--status-approved-text); }
.status-atrasado { background-color: var(--status-absent-bg); color: var(--status-absent-text); }
.status-cancelado { background-color: var(--status-canceled-bg); color: var(--status-canceled-text); text-decoration: line-through; }
.text-strikethrough { text-decoration: line-through; color: #888; }


.action-button {
  padding: 0.5rem 1rem;
  font-size: 0.9rem;
  font-weight: 600;
  color: #fff;
  background-color: var(--primary-color);
  border: none;
  border-radius: 8px;
  cursor: pointer;
  transition: background-color 0.2s ease-in-out, transform 0.1s ease;
  white-space: nowrap;
}

.action-button:hover {
  background-color: var(--primary-hover-color);
  transform: translateY(-1px);
}

.action-button.secondary {
    background-color: var(--secondary-color);
}
.action-button.secondary:hover {
    background-color: var(--secondary-hover-color);
}

.action-button.danger {
    background-color: var(--danger-color);
}
.action-button.danger:hover {
    background-color: var(--danger-hover-color);
}

.action-button:disabled {
  background-color: #555;
  cursor: not-allowed;
  transform: none;
}

.table-wrapper {
    overflow-x: auto;
}

table {
    width: 100%;
    border-collapse: collapse;
}

th, td {
    padding: 0.75rem 1rem;
    text-align: left;
    border-bottom: 1px solid var(--border-color);
    white-space: nowrap;
}

th {
    font-weight: 600;
    background-color: var(--table-header-bg);
}

.attendance-checkbox {
    display: flex;
    align-items: center;
    justify-content: center;
}
.attendance-checkbox input {
    width: 1.2rem;
    height: 1.2rem;
}


.view-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 2rem;
    flex-wrap: wrap;
    gap: 1rem;
}

.back-button {
    font-size: 1rem;
    font-weight: 600;
    color: var(--link-color);
    background-color: transparent;
    border: 1px solid var(--link-color);
    padding: 0.5rem 1rem;
    border-radius: 8px;
    cursor: pointer;
    transition: background-color 0.2s ease, color 0.2s ease;
}
.back-button:hover {
    background-color: var(--link-color);
    color: #fff;
}

.filter-container {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1.5rem;
    margin-bottom: 1rem;
}

.filter-group {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
}

.filter-group label {
    font-weight: 500;
    font-size: 0.9rem;
}

.filter-group input, .filter-group select {
    width: 100%;
    padding: 0.6rem;
    border: 1px solid var(--border-color);
    border-radius: 8px;
    box-sizing: border-box;
}

.form-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
    gap: 1rem;
    margin-bottom: 1.5rem;
}

.course-details-grid {
    display: grid;
    grid-template-columns: max-content 1fr;
    gap: 1rem 1.5rem;
    align-items: center;
}

.course-details-grid > div:nth-child(odd) {
    font-weight: 600;
    text-align: right;
}

.course-description {
    grid-column: 1 / -1;
    white-space: pre-wrap;
    padding-top: 1rem;
    margin-top: 1rem;
    border-top: 1px solid var(--border-color);
}

/* Profile View Styles */
.profile-form {
    display: grid;
    grid-template-columns: 200px 1fr;
    gap: 2rem;
    align-items: flex-start;
}
.profile-pic-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 1rem;
    text-align: center;
}
.profile-pic-preview {
    width: 150px;
    height: 150px;
    border-radius: 50%;
    object-fit: cover;
    border: 4px solid var(--border-color);
}
.profile-fields-container {
    display: flex;
    flex-direction: column;
}
.profile-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 1.5rem;
}
.admin-only-section {
    margin-top: 2rem;
    padding-top: 1.5rem;
    border-top: 1px dashed var(--border-color);
}
.admin-only-section h3 {
    color: var(--danger-color);
}

/* CORREÇÃO: Estilos para o formulário de matrícula dentro do perfil */
.admin-only-section form .list-item {
    flex-direction: column;
    align-items: stretch;
    gap: 1rem;
    padding: 1.5rem;
    background-color: var(--subtle-bg);
}

.admin-only-section form .list-item-title {
    font-size: 1.2rem;
}

.admin-only-section form button[type="submit"] {
    align-self: flex-start;
}

/* Financial Dashboard Styles */
.financial-summary-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 1.5rem;
    margin-bottom: 2rem;
}

.summary-card {
    background-color: var(--card-background);
    padding: 1.5rem;
    border-radius: 12px;
    border: 1px solid var(--border-color);
    text-align: center;
}
.summary-card h3 {
    margin: 0 0 0.5rem 0;
    font-size: 1.1rem;
    color: #aaa;
    font-weight: 500;
}
.summary-card p {
    margin: 0;
    font-size: 2rem;
    font-weight: 700;
}
.summary-card:nth-child(2) p {
    color: var(--status-approved-text);
}
.summary-card:nth-child(3) p {
    color: var(--status-absent-text);
}

.progress-bar-container {
    width: 100%;
    height: 20px;
    background-color: #333;
    border-radius: 10px;
    overflow: hidden;
    margin-top: 2rem;
}
.progress-bar {
    height: 100%;
    background-color: var(--primary-color);
    border-radius: 10px;
    transition: width 0.5s ease-in-out;
}

/* Chart Styles */
.charts-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
    gap: 1.5rem;
    margin-bottom: 1.5rem;
}
.charts-grid.three-cols {
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
}


.chart-container {
    min-height: 350px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
}

.chart {
    width: 100%;
    height: auto;
    font-family: var(--font-family);
    font-size: 0.8rem;
}

.bar-chart .bar.expected {
    fill: #a5cfff;
}
.bar-chart .bar.collected {
    fill: var(--primary-color);
}
.bar-chart .bar:hover {
    opacity: 0.8;
}
.bar-chart .y-axis text, .bar-chart .x-axis-label {
    fill: #aaa;
}
.bar-chart .legend text {
    font-size: 0.85rem;
    alignment-baseline: middle;
    fill: var(--text-color);
}

.pie-chart-container {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 2rem;
    flex-wrap: wrap;
    width: 100%;
}
.pie-chart {
    max-width: 180px;
    flex-shrink: 0;
}
.pie-slice {
    transition: opacity 0.2s;
    cursor: pointer;
}
.pie-slice:hover {
    opacity: 0.8;
}

.pie-chart-legend {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
}
.legend-item {
    display: flex;
    align-items: center;
    gap: 0.5rem;
}
.legend-color {
    width: 14px;
    height: 14px;
    border-radius: 4px;
    flex-shrink: 0;
}
.legend-label {
    font-size: 0.9rem;
}

/* New Financial Control Panel & Form Styles */
.radio-group {
    display: flex;
    gap: 1.5rem;
    align-items: center;
    margin-top: 0.5rem;
}
.radio-group label {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    font-weight: 500;
}
.radio-group input {
    width: auto;
}

.finance-student-list .list-item {
    flex-direction: column;
    align-items: stretch;
    padding: 0;
    border: 1px solid var(--border-color);
    border-radius: 8px;
    overflow: hidden;
}
.finance-student-list .list-item.clickable {
    display: flex;
    flex-direction: row;
    align-items: center;
    padding: 1rem;
    cursor: pointer;
    transition: background-color 0.2s;
}
.finance-student-list .list-item.clickable:hover {
    background-color: #2a2a2a;
}

.expand-icon {
    font-size: 1.2rem;
    font-weight: bold;
}

.student-payment-details {
    padding: 1rem;
    background-color: #2a2a2a;
    border-top: 1px solid var(--border-color);
    animation: fade-in 0.3s ease;
}
.student-payment-details h4 {
    margin-bottom: 1rem;
}

.enrollment-approval-form {
    flex-shrink: 0;
}
.form-group-inline {
    display: flex;
    align-items: center;
    gap: 0.5rem;
}
.form-group-inline select {
    padding: 0.4rem 0.8rem;
    font-size: 0.9rem;
    border-radius: 8px;
    border: 1px solid var(--border-color);
}

/* PIX Modal Styles */
.modal-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.6);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 2000;
    animation: fade-in 0.3s ease;
}
.modal-content {
    background-color: var(--card-background);
    padding: 2rem;
    border-radius: 12px;
    box-shadow: 0 5px 15px rgba(0,0,0,0.3);
    width: 90%;
    max-width: 500px;
    position: relative;
    animation: fade-in 0.3s ease, slide-up 0.3s ease;
}

@keyframes slide-up {
    from { transform: translateY(20px); }
    to { transform: translateY(0); }
}

.modal-close {
    position: absolute;
    top: 1rem;
    right: 1rem;
    background: transparent;
    border: none;
    font-size: 1.5rem;
    cursor: pointer;
    color: var(--secondary-color);
}
.modal-content h2 {
    margin-top: 0;
    margin-bottom: 1.5rem;
    text-align: center;
}
.pix-modal-body {
    text-align: center;
}
.qr-code-placeholder {
    width: 200px;
    height: 200px;
    background-color: #f0f0f0;
    margin: 1rem auto;
    display: flex;
    align-items: center;
    justify-content: center;
    border: 1px solid var(--border-color);
    border-radius: 8px;
    font-weight: 600;
    color: #6c757d;
}
.pix-copy-paste {
    display: flex;
    margin-top: 1.5rem;
}
.pix-copy-paste input {
    flex-grow: 1;
    border-right: none;
    border-top-right-radius: 0;
    border-bottom-right-radius: 0;
    background-color: var(--subtle-bg);
    font-size: 0.9rem;
}
.pix-copy-paste button {
    padding: 0.75rem 1rem;
    border: 1px solid var(--primary-color);
    background-color: var(--primary-color);
    color: white;
    border-top-left-radius: 0;
    border-bottom-left-radius: 0;
    cursor: pointer;
    font-weight: 600;
}
.payment-summary {
    text-align: left;
    margin: 1.5rem 0;
    padding: 1rem;
    background-color: var(--subtle-bg);
    border-radius: 8px;
}
.payment-summary h4 {
    margin: 0 0 1rem 0;
}
.payment-summary p {
    margin: 0.5rem 0;
}

/* Settings Page */
.settings-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 2rem;
}
.settings-section {
    padding: 1.5rem;
    border: 1px solid var(--border-color);
    border-radius: 8px;
}
.settings-section h3 {
    margin-top: 0;
}

/* Drag and Drop */
.card.dragging {
    opacity: 0.5;
    border: 2px dashed var(--primary-color);
}
.drag-over-placeholder {
    height: 100px;
    background: #e0e7ff;
    border: 2px dashed #a5cfff;
    border-radius: 12px;
}
.audit-info {
    font-size: 0.9rem;
    color: #aaa;
    margin-top: 1rem;
    padding: 0.75rem;
    background-color: var(--subtle-bg);
    border-radius: 8px;
}

.form-group-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 0.5rem;
}
.form-group-header label {
    margin-bottom: 0;
}

.generate-ai-button {
    font-size: 0.8rem;
    padding: 0.3rem 0.6rem;
}

/* New Attendance Styles */
.attendance-controls {
    display: flex;
    gap: 1rem;
    align-items: center;
    margin-bottom: 1.5rem;
    padding: 1rem;
    background-color: var(--subtle-bg);
    border-radius: 8px;
    flex-wrap: wrap;
}
.attendance-controls label {
    font-weight: 500;
}
.notice {
    padding: 0.75rem 1rem;
    background-color: var(--status-pending-bg);
    color: var(--status-pending-text);
    border-left: 4px solid var(--status-pending-text);
    border-radius: 4px;
    margin-bottom: 1rem;
    font-weight: 500;
}

footer {
    text-align: center;
    padding: 1rem;
    margin-top: 2rem;
    font-size: 0.9rem;
    color: #8b949e;
    background-color: var(--card-background);
    border-top: 1px solid var(--border-color);
}

/* ======== MOBILE RESPONSIVENESS ======== */

@media (max-width: 900px) {
    .profile-form {
        grid-template-columns: 1fr;
    }
    .profile-pic-container {
        align-items: center;
    }
    .profile-grid {
        grid-template-columns: 1fr;
    }
}

@media (max-width: 768px) {
  .app-header {
    padding: 1rem;
  }
  .list-item {
    flex-direction: column; 
    align-items: flex-start;
  }
  /* CORREÇÃO: Assegura que o form de matrícula se ajuste bem */
  .admin-only-section form .list-item {
    align-items: stretch;
  }
  .list-item-actions {
    flex-direction: row; /* Mantém botões lado a lado se couber */
    align-items: center; 
    width: 100%;
    margin-top: 0.5rem;
  }
  main {
    padding: 1rem;
  }
}

/* NOVO: Estilos para os botões de navegação de mês */
.dashboard-controls {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    flex-wrap: wrap;
}

.month-nav-button {
    font-size: 1.2rem;
    font-weight: bold;
    padding: 0.4rem 0.8rem;
    background-color: var(--subtle-bg);
    border: 1px solid var(--border-color);
    color: var(--text-color);
    border-radius: 8px;
    cursor: pointer;
    transition: background-color 0.2s ease;
}

.month-nav-button:hover {
    background-color: var(--border-color);
}

/* NOVO: Estilos para o Relatório de Inadimplentes Interativo */

/* Centraliza o checkbox na sua coluna da tabela */
.payment-checkbox {
    display: block; /* Permite o uso de margin auto */
    margin: 0 auto; /* Centraliza horizontalmente */
    width: 1.2rem;
    height: 1.2rem;
}

/* Garante que o container principal de filtros quebre a linha em telas menores */
.card > .dashboard-controls {
    flex-wrap: wrap;
    gap: 1.5rem; /* Adiciona um espaçamento quando os filtros quebram a linha */
}

/* Estilo para o novo select de curso para combinar com os outros inputs */
#defaulters-course-selector {
    padding: 0.6rem;
    border: 1px solid var(--border-color);
    border-radius: 8px;
    background-color: var(--input-background);
    color: var(--text-color);
    font-family: inherit;
    font-size: 0.9rem;
    min-width: 200px; /* Evita que o seletor fique muito pequeno */
}

/* ======== ESTILOS PARA O EDITOR DE MODELOS DE DOCUMENTOS ======== */

.document-editor-container {
    display: grid;
    grid-template-columns: 2fr 1fr; /* Coluna do editor com o dobro do tamanho da coluna de placeholders */
    gap: 2rem;
}

.document-editor {
    display: flex;
    flex-direction: column;
}

.document-editor textarea {
    min-height: 400px;
    font-family: monospace;
    font-size: 0.9rem;
    line-height: 1.5;
}

.placeholders-sidebar {
    background-color: var(--subtle-bg);
    padding: 1.5rem;
    border-radius: 8px;
    border: 1px solid var(--border-color);
    align-self: start; /* Impede que a coluna se estique */
    max-height: 500px; /* Adiciona uma altura máxima */
    overflow-y: auto;  /* Adiciona scroll se os placeholders não couberem */
}

.placeholders-sidebar p {
    font-size: 0.9rem;
    color: #aaa;
    margin-top: -1rem;
    margin-bottom: 1.5rem;
}

.placeholder-group {
    margin-bottom: 1.5rem;
}

.placeholder-group h4 {
    margin-top: 0;
    margin-bottom: 0.75rem;
    font-size: 1rem;
    border-bottom: 1px solid var(--border-color);
    padding-bottom: 0.5rem;
}

.placeholder-button {
    background-color: var(--card-background);
    border: 1px solid var(--border-color);
    color: var(--text-color);
    padding: 0.4rem 0.8rem;
    margin: 0.2rem;
    border-radius: 6px;
    cursor: pointer;
    font-size: 0.85rem;
    transition: all 0.2s ease;
}

.placeholder-button:hover {
    background-color: var(--primary-color);
    color: #fff;
    border-color: var(--primary-hover-color);
}

/* Responsividade para a tela de modelos */
@media (max-width: 900px) {
    .document-editor-container {
        grid-template-columns: 1fr; /* Em telas menores, as colunas ficam uma em cima da outra */
    }
    .placeholders-sidebar {
        grid-row: 1; /* Move a coluna de placeholders para cima em telas menores */
        max-height: 250px; /* Reduz a altura máxima em mobile */
    }
}
/* ... (todo o seu CSS existente) ... */

/* Estilo para mensagens de erro */
.error-message {
  color: var(--danger-color); /* Usa a cor vermelha definida */
  font-size: 0.9rem;
  font-weight: 500;
  min-height: 1.2em; /* Garante que o layout não pule quando não há erro */
  margin-top: 0.5rem; /* Espaçamento acima da mensagem */
  text-align: center; /* Centraliza a mensagem no container */
}

/* Opcional: Estilo para erros dentro de formulários de perfil/edição */
.profile-form .error-message,
#edit-course-form .error-message,
#create-course-form .error-message {
    text-align: left; /* Alinha à esquerda em formulários maiores */
    grid-column: 1 / -1; /* Ocupa toda a largura se dentro de um grid */
}


/* --- ESTILOS DO MODAL DE MATRÍCULA (FINAL) --- */

/* Estilos gerais do overlay do modal */
.modal-overlay.enrollment-modal {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.6);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 1000;
    padding: 20px;
    box-sizing: border-box;
}

/* Estilos do conteúdo do modal - Garante altura máxima e flex container */
.enrollment-modal .modal-content.large {
    background-color: var(--card-background, #ffffff);
    padding: 25px;
    border-radius: 8px;
    box-shadow: 0 5px 15px var(--shadow-color, rgba(0,0,0,0.2));
    position: relative;
    display: flex;
    flex-direction: column; /* Organiza o conteúdo verticalmente */
    overflow: auto; /* Impede o scroll do conteúdo de "vazar" */
    max-width: 900px;
    width: 100%;
    max-height: 90vh; /* Controla a altura máxima do modal na tela */
    box-sizing: border-box;
}

/* Título e botão de fechar */
.enrollment-modal .modal-content h2 {
    margin-top: 0;
    margin-bottom: 1.5rem;
    text-align: center;
    color: var(--text-color, #212529);
    font-size: 1.5rem;
}
/* O botão de fechar herda a posição absolute do .modal-content anterior */

/* Corpo rolável do modal - ROLAGEM GERAL DO CONTEÚDO */
.enrollment-modal .modal-body-scrollable {
    overflow-y: auto; /* <--- ROLAGEM GERAL DO MODAL */
    flex-grow: 1; /* Ocupa todo o espaço vertical disponível */
    padding: 0 15px 15px 5px; 
    margin-right: -15px; /* Truque para o padding não criar um scroll horizontal desnecessário */
    box-sizing: border-box;
}

/* Visualizador de documentos com rolagem - ROLAGEM ESPECÍFICA (Contrato/Termos) */
.enrollment-modal .document-viewer {
    max-height: 250px; /* Altura máxima */
    overflow-y: auto; /* <--- ROLAGEM DENTRO DA CAIXA */
    border: 1px solid var(--border-color, #e0e0e0);
    padding: 15px;
    background-color: var(--subtle-bg, #f8f9fa);
    border-radius: 4px;
    margin-bottom: 1rem;
    font-size: 0.9rem;
    line-height: 1.5;
    color: var(--text-color, #212529);
    white-space: pre-wrap; /* Mantém a quebra de linha do texto (que vem do nl2br do PHP) */
    word-wrap: break-word;
    box-sizing: border-box;
}

/* Área de ações (botões) */
.enrollment-modal .modal-actions {
    display: flex;
    justify-content: flex-end;
    align-items: center;
    padding-top: 1.5rem;
    margin-top: auto; /* Garante que os botões fiquem sempre no final, sem rolar */
    border-top: 1px solid var(--border-color, #e0e0e0);
    background-color: var(--card-background, #ffffff);
    box-sizing: border-box;
}

/* Outros estilos de layout */
.enrollment-modal .modal-section {
    margin-bottom: 1.5rem;
    padding-bottom: 1.5rem;
    border-bottom: 1px solid var(--border-color, #e0e0e0);
}
.enrollment-modal .modal-section:last-child {
    margin-bottom: 0;
    padding-bottom: 0;
    border-bottom: none;
}
.enrollment-modal .modal-section h4 {
    margin-top: 0;
    margin-bottom: 1rem;
    color: var(--primary-color, #007bff);
    font-size: 1.1rem;
}
.enrollment-modal .profile-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1rem;
}

/* CORREÇÃO DO CHECKBOX (NOVO) */
.enrollment-modal .form-group.checkbox-group {
    /* Desativa qualquer justificativa central e alinha à esquerda */
    justify-content: flex-start;
    /* Garante que o item ocupe 100% da largura, se estiver em um grid de coluna única */
    width: 100%; 
    /* Adicional: Garante que o conteúdo (input + label) comece no canto esquerdo */
    text-align: left;
}

.enrollment-modal .error-message {
  color: var(--danger-color, #dc3545);
  font-size: 0.9rem;
  font-weight: 500;
  min-height: 1.2em;
  text-align: left;
  flex-grow: 1;
  margin-right: 1rem;
}